@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model as ModelPackage <<Rectangle>> {
  Class "<<interface>>\nReadOnlyAddressBook" as ReadOnlyAddressBook
  Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
  Class "<<interface>>\nModel" as Model
  Class AddressBook
  Class ModelManager
  Class UserPrefs

  Class UniquePersonList
  Class Person
  Class StudentId
  Class GithubUsername
  Class ExerciseTracker
  Class LabAttendanceList
  Class GradeMap
  Class Email
  Class Name
  Class Phone
  Class Tag
  Class Exercise
  Class Lab
  Class Gradeable

  Class I #FFFFFF
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook .up.|> ReadOnlyAddressBook

ModelManager .up.|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.> ReadOnlyAddressBook
ModelManager -left-> "1" AddressBook
ModelManager -right-> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

AddressBook *--> "1" UniquePersonList
UniquePersonList --> "~* all" Person

' Person field associations
Person *--> "1" StudentId
Person *--> "1" Name
Person *--> "1" Phone
Person *--> "1" Email
Person *--> "1" GithubUsername
Person *--> "1" ExerciseTracker
Person *--> "1" LabAttendanceList
Person *--> "1" GradeMap
Person *--> "*" Tag

' Internal associations for composite objects
ExerciseTracker *--> "10" Exercise
LabAttendanceList *--> "10" Lab
GradeMap *--> "4" Gradeable

Person -[hidden]up--> I
UniquePersonList -[hidden]right-> I
Name -[hidden]right-> Phone
Phone -[hidden]right-> Email

ModelManager --> "~* filtered" Person
@enduml
